@page
@inherits Acesoft.Web.UI.RazorPages.WebPage
@{
    Layout = "_shared/back";
    ViewData["Title"] = "编辑";

    Ace.View().Id("view").Ajax(ds => ds.DataSource("iot.param").Form(new {
        product_id = App.GetQuery("productid", ""),
        code = "",
        name = "",
        type = "",
        unit = "",
        rate = "",
        start = "",
        len = "",
        remark = ""
    }).HttpSave()).Content(
        @<div class="container-fluid">
            <div class="row">
                <div class="col-xs-2 text-r"><span class="cr-red">*</span> 编号：</div>
                <div class="col-xs-6">@Ace.TextBox().Name("code").Width("100%").Required().ValidType("length[2,20]")</div>
                <div class="col-xs-4"><span class="text-warning">2-20位字符和数字</span></div>
            </div>
            <div class="row">
                <div class="col-xs-2 text-r"><span class="cr-red">*</span> 名称：</div>
                <div class="col-xs-6">@Ace.TextBox().Name("name").Width("100%").Required()</div>
                <div class="col-xs-4"></div>
            </div>
            <div class="row">
                <div class="col-xs-2 text-r"><span class="cr-red">*</span> 类型：</div>
                <div class="col-xs-6">@Ace.ComboBox().Name("type").Width("100%").Required().Ajax(ds => ds.Dict("CSLX").HttpGet())</div>
                <div class="col-xs-4"></div>
            </div>
            <div class="row">
                <div class="col-xs-2 text-r"><span class="cr-red">*</span> 单位：</div>
                <div class="col-xs-6">@Ace.TextBox().Name("unit").Width("100%")</div>
                <div class="col-xs-4"></div>
            </div>
            <div class="row">
                <div class="col-xs-2 text-r"><span class="cr-red">*</span> 倍率：</div>
                <div class="col-xs-6">@Ace.NumberBox().Name("rate").Width("100%").Precision(1)</div>
                <div class="col-xs-4"></div>
            </div>
            <div class="row">
                <div class="col-xs-2 text-r"><span class="cr-red">*</span> 起始：</div>
                <div class="col-xs-6">@Ace.NumberBox().Name("start").Width("100%").Required()</div>
                <div class="col-xs-4"></div>
            </div>
            <div class="row">
                <div class="col-xs-2 text-r"><span class="cr-red">*</span> 长度：</div>
                <div class="col-xs-6">@Ace.NumberBox().Name("len").Width("100%").Required()</div>
                <div class="col-xs-4"></div>
            </div>
            <div class="row">
                <div class="col-xs-2 text-r">备注：</div>
                <div class="col-xs-6">@Ace.TextBox().Name("remark").Width("100%")</div>
                <div class="col-xs-4"></div>
            </div>
            @Html.AntiForgeryToken()
        </div>
    ).Render();
}
@section startup {
    <script>
        $(function () {
            $('#code').textbox('textbox').keyup(function () {
                $('#code').textbox('setValue', this.value.replace(/[^\w]/g, '').toLowerCase());
            });
        });
    </script>
}