2019-03-08 00:01:12.587 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:01:12.587 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:01:12.634 +08:00 [INF] Executed page /plat/account/login in 91026.1288ms
2019-03-08 00:01:12.634 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-08 00:01:12.634 +08:00 [DBG] Dispose session with database "default"
2019-03-08 00:01:12.634 +08:00 [INF] Request finished in 91598.0697ms 200 text/html; charset=utf-8
2019-03-08 00:03:18.024 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-08 00:03:18.024 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:03:18.024 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:03:18.024 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:03:18.024 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:03:18.026 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-08 00:03:18.026 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-08 00:03:18.026 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-08 00:09:20.193 +08:00 [INF] Starting web host
2019-03-08 00:09:22.271 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-08 00:09:25.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-08 00:09:25.752 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-08 00:09:25.788 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-08 00:09:25.788 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-08 00:09:25.808 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-08 00:09:25.808 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-08 00:09:25.808 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-08 00:09:26.006 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-08 00:09:26.006 +08:00 [DBG] Done initialize tentants.
2019-03-08 00:09:26.007 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:09:26.016 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-08 00:09:26.018 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-08 00:09:26.020 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-08 00:09:26.031 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:09:26.033 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:09:26.154 +08:00 [INF] Executing endpoint 'Page: /index'
2019-03-08 00:09:29.643 +08:00 [INF] Route matched with {page = "/index", action = "", controller = ""}. Executing page /index
2019-03-08 00:09:29.674 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-08 00:09:29.674 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-08 00:09:31.637 +08:00 [DBG] Store has initlialized with database "default"
2019-03-08 00:09:31.638 +08:00 [DBG] Open new session with database "default"
2019-03-08 00:09:31.983 +08:00 [DBG] Query 3 users from "default" store
2019-03-08 00:09:31.985 +08:00 [DBG] Dispose session with database "default"
2019-03-08 00:09:31.985 +08:00 [DBG] Open new session with database "default"
2019-03-08 00:09:31.995 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:09:31.996 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-08 00:09:32.000 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-08 00:09:32.002 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-08 00:09:32.035 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.035 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.035 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.035 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.035 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.036 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.040 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.041 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.042 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.042 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.043 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-08 00:09:32.044 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.044 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.044 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.044 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.044 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.045 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.046 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.046 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.046 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-08 00:09:32.066 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-08 00:09:32.074 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:09:32.515 +08:00 [INF] Executed page /index in 2864.1817ms
2019-03-08 00:09:32.515 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-08 00:09:32.516 +08:00 [INF] Executed endpoint 'Page: /index'
2019-03-08 00:09:32.516 +08:00 [DBG] Dispose session with database "default"
2019-03-08 00:09:32.516 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:09:32.516 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:09:32.516 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:09:32.517 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:09:32.523 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-08 00:09:32.534 +08:00 [INF] Request finished in 6861.6775ms 302 text/html; charset=utf-8
2019-03-08 00:09:32.921 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-08 00:09:32.941 +08:00 [INF] Authorization failed.
2019-03-08 00:09:32.952 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-08 00:09:32.965 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-08 00:09:32.993 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-08 00:09:32.993 +08:00 [INF] Executed page /plat/index/index in 71.7899ms
2019-03-08 00:09:32.996 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-08 00:09:33.007 +08:00 [INF] Request finished in 491.4952ms 302 
2019-03-08 00:09:33.038 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-08 00:09:33.038 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:09:33.038 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:09:33.038 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:09:33.038 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:09:33.049 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-08 00:09:33.606 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-08 00:09:33.609 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-08 00:09:33.609 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-08 00:09:33.624 +08:00 [DBG] Open new session with database "default"
2019-03-08 00:09:33.624 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:09:33.624 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:09:40.109 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:09:40.110 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-08 00:09:40.124 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-08 00:09:40.254 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-08 00:09:49.632 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:09:49.632 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:09:49.819 +08:00 [INF] Executed page /plat/account/login in 16212.912100000001ms
2019-03-08 00:09:49.819 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-08 00:09:49.819 +08:00 [DBG] Dispose session with database "default"
2019-03-08 00:09:49.819 +08:00 [INF] Request finished in 16781.3407ms 200 text/html; charset=utf-8
2019-03-08 00:12:44.493 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-08 00:12:44.493 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:12:44.494 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:12:44.494 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:12:44.494 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:12:44.496 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-08 00:12:44.497 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-08 00:12:44.497 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-08 00:12:44.497 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-08 00:12:44.497 +08:00 [DBG] Open new session with database "default"
2019-03-08 00:12:44.497 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:12:44.497 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:12:44.550 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:12:44.550 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-08 00:12:44.551 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-08 00:12:44.602 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-08 00:12:44.604 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:12:44.605 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:12:44.648 +08:00 [INF] Executed page /plat/account/login in 150.8976ms
2019-03-08 00:12:44.648 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-08 00:12:44.648 +08:00 [DBG] Dispose session with database "default"
2019-03-08 00:12:44.648 +08:00 [INF] Request finished in 154.4301ms 200 text/html; charset=utf-8
2019-03-08 00:12:44.943 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2019-03-08 00:12:44.981 +08:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\acecms\src\Acesoft.Web.Mvc\wwwroot\favicon.ico'
2019-03-08 00:12:44.981 +08:00 [INF] Request finished in 38.5127ms 200 image/x-icon
2019-03-08 00:12:56.994 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-08 00:12:56.994 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:12:56.994 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:12:56.994 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:12:56.994 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:12:56.994 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-08 00:12:56.994 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-08 00:12:56.994 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-08 00:12:56.994 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-08 00:12:56.994 +08:00 [DBG] Open new session with database "default"
2019-03-08 00:12:56.994 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:12:56.994 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:12:57.037 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:12:57.037 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-08 00:12:57.037 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-08 00:12:57.088 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-08 00:12:57.091 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:12:57.091 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:13:13.329 +08:00 [INF] Executed page /plat/account/login in 16335.3639ms
2019-03-08 00:13:13.329 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-08 00:13:13.329 +08:00 [DBG] Dispose session with database "default"
2019-03-08 00:13:13.329 +08:00 [INF] Request finished in 16335.8554ms 200 text/html; charset=utf-8
2019-03-08 00:13:13.534 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2019-03-08 00:13:13.600 +08:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\acecms\src\Acesoft.Web.Mvc\wwwroot\favicon.ico'
2019-03-08 00:13:13.606 +08:00 [INF] Request finished in 72.0438ms 200 image/x-icon
2019-03-08 00:15:08.725 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/regist  
2019-03-08 00:15:08.728 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:15:08.728 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:15:08.728 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:15:08.728 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:15:08.728 +08:00 [INF] Executing endpoint 'Page: /plat/account/regist'
2019-03-08 00:15:10.141 +08:00 [INF] Route matched with {page = "/plat/account/regist", action = "", controller = ""}. Executing page /plat/account/regist
2019-03-08 00:15:10.145 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-08 00:15:10.145 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-08 00:15:10.150 +08:00 [DBG] Open new session with database "default"
2019-03-08 00:15:10.150 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:15:10.150 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:15:10.222 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-08 00:15:10.222 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-08 00:15:19.215 +08:00 [INF] Executed page /plat/account/regist in 9073.7664ms
2019-03-08 00:15:19.215 +08:00 [INF] Executed endpoint 'Page: /plat/account/regist'
2019-03-08 00:15:19.215 +08:00 [DBG] Dispose session with database "default"
2019-03-08 00:15:19.215 +08:00 [INF] Request finished in 10489.7711ms 200 text/html; charset=utf-8
2019-03-08 00:15:19.351 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/draw/getvalidimage  
2019-03-08 00:15:19.351 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:15:19.351 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:15:19.351 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:15:19.351 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:15:19.361 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 00:15:19.361 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-08 00:15:19.361 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 00:15:19.361 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 00:15:19.361 +08:00 [INF] Executing endpoint 'Page: /error'
2019-03-08 00:15:20.049 +08:00 [INF] Route matched with {page = "/error", action = "", controller = ""}. Executing page /error
2019-03-08 00:15:20.050 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-08 00:15:20.050 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-08 00:15:26.466 +08:00 [INF] Executed page /error in 6417.51ms
2019-03-08 00:15:26.467 +08:00 [INF] Executed endpoint 'Page: /error'
2019-03-08 00:15:26.467 +08:00 [INF] Request finished in 7116.273ms 404 text/html; charset=utf-8
2019-03-08 22:49:45.999 +08:00 [INF] Starting web host
2019-03-08 22:49:49.196 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-08 22:51:26.103 +08:00 [INF] Starting web host
2019-03-08 22:51:49.430 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-08 22:52:59.489 +08:00 [FTL] Application startup exception
System.TypeInitializationException: The type initializer for 'Acesoft.Config.ConfigContext' threw an exception. ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at Acesoft.Logger.LoggerContext.GetLogger(String name) in D:\acecms\src\Acesoft.Core\Logger\LoggerContext.cs:line 19
   at Acesoft.Config.ConfigContext..cctor() in D:\acecms\src\Acesoft.Core\Config\ConfigContext.cs:line 24
   --- End of inner exception stack trace ---
   at Acesoft.Config.ConfigContext.UseConfigContext(IServiceProvider service) in D:\acecms\src\Acesoft.Core\Config\ConfigContext.cs:line 138
   at Acesoft.Startup.Configure(IApplicationBuilder app, IRouteBuilder routes, IServiceProvider services) in D:\acecms\src\Acesoft.Core\Startup.cs:line 36
   at Acesoft.Web.Modules.ModuleLoader.<>c__DisplayClass5_0.<Configure>b__1(IStartup startup) in D:\acecms\src\Acesoft.Web\Modules\ModuleLoader.cs:line 33
   at Acesoft.CollExtensions.Each[T](IEnumerable`1 list, Action`1 action) in D:\acecms\src\Acesoft.Util\Extensions\CollExtensions.cs:line 15
   at Acesoft.Web.Modules.ModuleLoader.Configure(IApplicationBuilder app, IRouteBuilder routes, IServiceProvider services) in D:\acecms\src\Acesoft.Web\Modules\ModuleLoader.cs:line 31
   at Acesoft.Web.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<UseMultitenancy>b__0(IRouteBuilder routes) in D:\acecms\src\Acesoft.Web\Extensions\ApplicationBuilderExtensions.cs:line 36
   at Microsoft.AspNetCore.Builder.MvcApplicationBuilderExtensions.UseMvc(IApplicationBuilder app, Action`1 configureRoutes)
   at Acesoft.Web.ApplicationBuilderExtensions.UseMultitenancy(IApplicationBuilder app) in D:\acecms\src\Acesoft.Web\Extensions\ApplicationBuilderExtensions.cs:line 33
   at Acesoft.Web.Mvc.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env) in D:\acecms\src\Acesoft.Web.Mvc\Startup.cs:line 64
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Internal.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.StartAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token, String shutdownMessage)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.Run(IWebHost host)
   at Acesoft.Web.Mvc.Program.<>c__DisplayClass0_0.<Main>b__0() in D:\acecms\src\Acesoft.Web.Mvc\Program.cs:line 20
   at Acesoft.Logger.LoggerContext.RunMainWithSerilog(Action main) in D:\acecms\src\Acesoft.Core\Logger\LoggerContext.cs:line 50
2019-03-08 22:52:59.555 +08:00 [FTL] Host terminated unexpectedly
System.TypeInitializationException: The type initializer for 'Acesoft.Config.ConfigContext' threw an exception. ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at Acesoft.Logger.LoggerContext.GetLogger(String name) in D:\acecms\src\Acesoft.Core\Logger\LoggerContext.cs:line 19
   at Acesoft.Config.ConfigContext..cctor() in D:\acecms\src\Acesoft.Core\Config\ConfigContext.cs:line 24
   --- End of inner exception stack trace ---
   at Acesoft.Config.ConfigContext.UseConfigContext(IServiceProvider service) in D:\acecms\src\Acesoft.Core\Config\ConfigContext.cs:line 138
   at Acesoft.Startup.Configure(IApplicationBuilder app, IRouteBuilder routes, IServiceProvider services) in D:\acecms\src\Acesoft.Core\Startup.cs:line 36
   at Acesoft.Web.Modules.ModuleLoader.<>c__DisplayClass5_0.<Configure>b__1(IStartup startup) in D:\acecms\src\Acesoft.Web\Modules\ModuleLoader.cs:line 33
   at Acesoft.CollExtensions.Each[T](IEnumerable`1 list, Action`1 action) in D:\acecms\src\Acesoft.Util\Extensions\CollExtensions.cs:line 15
   at Acesoft.Web.Modules.ModuleLoader.Configure(IApplicationBuilder app, IRouteBuilder routes, IServiceProvider services) in D:\acecms\src\Acesoft.Web\Modules\ModuleLoader.cs:line 31
   at Acesoft.Web.ApplicationBuilderExtensions.<>c__DisplayClass0_0.<UseMultitenancy>b__0(IRouteBuilder routes) in D:\acecms\src\Acesoft.Web\Extensions\ApplicationBuilderExtensions.cs:line 36
   at Microsoft.AspNetCore.Builder.MvcApplicationBuilderExtensions.UseMvc(IApplicationBuilder app, Action`1 configureRoutes)
   at Acesoft.Web.ApplicationBuilderExtensions.UseMultitenancy(IApplicationBuilder app) in D:\acecms\src\Acesoft.Web\Extensions\ApplicationBuilderExtensions.cs:line 33
   at Acesoft.Web.Mvc.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env) in D:\acecms\src\Acesoft.Web.Mvc\Startup.cs:line 64
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Internal.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.StartAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token, String shutdownMessage)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.RunAsync(IWebHost host, CancellationToken token)
   at Microsoft.AspNetCore.Hosting.WebHostExtensions.Run(IWebHost host)
   at Acesoft.Web.Mvc.Program.<>c__DisplayClass0_0.<Main>b__0() in D:\acecms\src\Acesoft.Web.Mvc\Program.cs:line 20
   at Acesoft.Logger.LoggerContext.RunMainWithSerilog(Action main) in D:\acecms\src\Acesoft.Core\Logger\LoggerContext.cs:line 50
2019-03-08 22:55:23.075 +08:00 [INF] Starting web host
2019-03-08 22:55:29.936 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-08 22:55:32.981 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-08 22:55:33.063 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-08 22:55:33.095 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-08 22:55:33.095 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-08 22:55:33.121 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-08 22:55:33.121 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-08 22:55:33.121 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-08 22:55:33.296 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-08 22:55:33.296 +08:00 [DBG] Done initialize tentants.
2019-03-08 22:55:33.297 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-08 22:55:33.303 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-08 22:55:33.305 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-08 22:55:33.309 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-08 22:55:33.315 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-08 22:55:33.316 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-08 22:55:33.399 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-08 22:55:35.354 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-08 22:55:35.500 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
D:\acecms\src\Acesoft.Web.Mvc\Pages\_ViewImports.cshtml(25,19): error CS0234: The type or namespace name 'Models' does not exist in the namespace 'Acesoft.Web' (are you missing an assembly reference?)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.RazorPages.Internal.DefaultPageLoader.Load(PageActionDescriptor actionDescriptor)
   at Microsoft.AspNetCore.Mvc.RazorPages.Internal.PageActionInvokerProvider.OnProvidersExecuting(ActionInvokerProviderContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ActionInvokerFactory.CreateInvoker(ActionContext actionContext)
   at Microsoft.AspNetCore.Mvc.Internal.MvcEndpointDataSource.<>c__DisplayClass21_0.<CreateEndpoint>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-08 22:55:35.537 +08:00 [INF] Request finished in 2560.5787ms 500 text/html; charset=utf-8
