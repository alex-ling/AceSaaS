2019-03-09 19:37:58.608 +08:00 [INF] Starting web host
2019-03-09 19:38:03.581 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 19:38:06.985 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 19:38:07.037 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 19:38:07.075 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 19:38:07.076 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 19:38:07.094 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 19:38:07.094 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 19:38:07.094 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 19:38:07.252 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 19:38:07.252 +08:00 [DBG] Done initialize tentants.
2019-03-09 19:38:07.253 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:38:07.259 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 19:38:07.262 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 19:38:07.265 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 19:38:07.275 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:38:07.276 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:38:07.377 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 19:38:11.206 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 19:38:11.224 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 19:38:11.224 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 19:38:11.971 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 19:38:11.972 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:38:12.319 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 19:38:12.320 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:38:12.320 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:38:12.328 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:38:12.328 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 19:38:12.333 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 19:38:12.336 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 19:38:12.361 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.361 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.361 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.362 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.362 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.362 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.365 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.366 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.367 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.368 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 19:38:12.369 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.369 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.370 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.371 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:38:12.380 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 19:38:12.389 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 19:38:12.684 +08:00 [INF] Executed page /Index in 1473.4284ms
2019-03-09 19:38:12.685 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 19:38:12.686 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:38:12.700 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 19:38:12.700 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:38:12.700 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:38:12.700 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:38:12.700 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:38:12.712 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 19:38:12.742 +08:00 [INF] Request finished in 5762.4971ms 302 text/html; charset=utf-8
2019-03-09 19:38:13.013 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 19:38:13.029 +08:00 [INF] Authorization failed.
2019-03-09 19:38:13.034 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 19:38:13.040 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 19:38:13.056 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 19:38:13.056 +08:00 [INF] Executed page /plat/index/index in 43.110400000000006ms
2019-03-09 19:38:13.056 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 19:38:13.061 +08:00 [INF] Request finished in 361.1571ms 302 
2019-03-09 19:38:13.067 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 19:38:13.067 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:38:13.067 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:38:13.067 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:38:13.067 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:38:13.071 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 19:38:13.426 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 19:38:13.429 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 19:38:13.429 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 19:38:13.443 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:38:13.443 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:38:13.444 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 19:38:13.665 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:38:13.668 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 19:38:13.675 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 19:38:13.759 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 19:38:13.913 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:38:13.913 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 19:38:13.955 +08:00 [INF] Executed page /plat/account/login in 528.6011ms
2019-03-09 19:38:13.955 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 19:38:13.955 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:38:13.955 +08:00 [INF] Request finished in 888.0763ms 200 text/html; charset=utf-8
2019-03-09 19:38:40.706 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 19:38:40.706 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:38:40.706 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:38:40.706 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:38:40.706 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:38:40.717 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 19:38:40.772 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 19:49:32.589 +08:00 [INF] Starting web host
2019-03-09 19:49:34.335 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 19:49:38.065 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 19:49:38.160 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 19:49:38.180 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 19:49:38.181 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 19:49:38.196 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 19:49:38.196 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 19:49:38.196 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 19:49:38.352 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 19:49:38.353 +08:00 [DBG] Done initialize tentants.
2019-03-09 19:49:38.353 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:49:38.360 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 19:49:38.363 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 19:49:38.366 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 19:49:38.374 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:49:38.375 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:49:38.479 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 19:49:41.022 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 19:49:41.041 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 19:49:41.041 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 19:49:41.767 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 19:49:41.768 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:49:42.064 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 19:49:42.065 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:49:42.065 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:49:42.073 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:49:42.074 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 19:49:42.077 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 19:49:42.078 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 19:49:42.098 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.098 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.098 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.098 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.098 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.098 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.100 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.100 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.101 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.102 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.102 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.102 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.102 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.102 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.102 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.103 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.103 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.103 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.105 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.105 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.106 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 19:49:42.107 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.108 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 19:49:42.116 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 19:49:42.124 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 19:49:42.443 +08:00 [INF] Executed page /Index in 1414.6844ms
2019-03-09 19:49:42.443 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 19:49:42.444 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:49:42.445 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 19:49:42.445 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:49:42.445 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:49:42.445 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:49:42.445 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:49:42.458 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 19:49:42.463 +08:00 [INF] Request finished in 4402.4304ms 302 text/html; charset=utf-8
2019-03-09 19:49:42.810 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 19:49:42.828 +08:00 [INF] Authorization failed.
2019-03-09 19:49:42.833 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 19:49:42.840 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 19:49:42.860 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 19:49:42.860 +08:00 [INF] Executed page /plat/index/index in 49.8307ms
2019-03-09 19:49:42.860 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 19:49:42.864 +08:00 [INF] Request finished in 419.3163ms 302 
2019-03-09 19:49:42.868 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 19:49:42.868 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:49:42.868 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:49:42.868 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:49:42.868 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:49:42.878 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 19:49:43.250 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 19:49:43.252 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 19:49:43.252 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 19:49:43.262 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:49:43.262 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:49:43.262 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 19:49:43.472 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:49:43.475 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 19:49:43.482 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 19:49:43.569 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 19:49:43.742 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:49:43.742 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 19:49:43.790 +08:00 [INF] Executed page /plat/account/login in 539.3975ms
2019-03-09 19:49:43.790 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 19:49:43.790 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:49:43.790 +08:00 [INF] Request finished in 922.0309ms 200 text/html; charset=utf-8
2019-03-09 19:49:49.501 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 19:49:49.502 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:49:49.502 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:49:49.502 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:49:49.502 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:49:49.502 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 19:49:49.561 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 19:49:49.565 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:49:49.565 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:49:58.748 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"admin\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 19:49:58.756 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:49:58.756 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 19:49:58.757 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 19:49:58.808 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 19:49:58.935 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 9373.358ms
2019-03-09 19:49:58.935 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 19:49:59.003 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:49:59.004 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Acesoft.AceException: 用户已被停用，禁止登录
   at Acesoft.Check.Require(Boolean assertion, String msg, String negativeMsg) in D:\acecms\src\Acesoft.Util\Check.cs:line 13
   at Acesoft.Rbac.Services.UserService.Login(String userName, String password, Int32 tryTimes, Int32 lockMinutes) in D:\acecms\src\Acesoft.Rbac\Services\UserService.cs:line 152
   at Acesoft.Rbac.AccessControl.Login(String userName, String password, Boolean persistent) in D:\acecms\src\Acesoft.Rbac\AccessControl.cs:line 59
   at Acesoft.Web.Authorize.AuthController.Login(JObject data) in D:\acecms\src\Acesoft.Web\Authorize\AuthController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-09 19:49:59.144 +08:00 [INF] Request finished in 9642.0186ms 500 text/html; charset=utf-8
2019-03-09 19:50:07.753 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 19:50:07.753 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:50:07.753 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:50:07.753 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:50:07.753 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:50:07.765 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 19:50:07.765 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 19:50:07.783 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:50:07.784 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:50:07.811 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"admin\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 19:50:07.812 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:50:07.812 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 19:50:07.812 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 19:50:07.852 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 19:50:07.927 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 162.1326ms
2019-03-09 19:50:07.927 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 19:50:07.990 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:50:07.991 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Acesoft.AceException: 用户已被停用，禁止登录
   at Acesoft.Check.Require(Boolean assertion, String msg, String negativeMsg) in D:\acecms\src\Acesoft.Util\Check.cs:line 13
   at Acesoft.Rbac.Services.UserService.Login(String userName, String password, Int32 tryTimes, Int32 lockMinutes) in D:\acecms\src\Acesoft.Rbac\Services\UserService.cs:line 152
   at Acesoft.Rbac.AccessControl.Login(String userName, String password, Boolean persistent) in D:\acecms\src\Acesoft.Rbac\AccessControl.cs:line 59
   at Acesoft.Web.Authorize.AuthController.Login(JObject data) in D:\acecms\src\Acesoft.Web\Authorize\AuthController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-09 19:50:08.011 +08:00 [INF] Request finished in 258.3904ms 500 text/html; charset=utf-8
2019-03-09 19:50:15.647 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 19:50:15.647 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 19:50:15.647 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 19:50:15.647 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 19:50:15.647 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 19:50:15.647 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 19:50:15.647 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 19:50:15.648 +08:00 [DBG] Open new session with database "default"
2019-03-09 19:50:15.648 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:50:15.687 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"admin\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 19:50:15.687 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 19:50:15.688 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 19:50:15.688 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 19:50:15.740 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 19:50:15.828 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 180.11370000000002ms
2019-03-09 19:50:15.828 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 19:50:15.899 +08:00 [DBG] Dispose session with database "default"
2019-03-09 19:50:15.900 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Acesoft.AceException: 用户已被停用，禁止登录
   at Acesoft.Check.Require(Boolean assertion, String msg, String negativeMsg) in D:\acecms\src\Acesoft.Util\Check.cs:line 13
   at Acesoft.Rbac.Services.UserService.Login(String userName, String password, Int32 tryTimes, Int32 lockMinutes) in D:\acecms\src\Acesoft.Rbac\Services\UserService.cs:line 152
   at Acesoft.Rbac.AccessControl.Login(String userName, String password, Boolean persistent) in D:\acecms\src\Acesoft.Rbac\AccessControl.cs:line 59
   at Acesoft.Web.Authorize.AuthController.Login(JObject data) in D:\acecms\src\Acesoft.Web\Authorize\AuthController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-09 19:50:15.926 +08:00 [INF] Request finished in 278.6587ms 500 text/html; charset=utf-8
2019-03-09 20:19:38.907 +08:00 [INF] Starting web host
2019-03-09 20:19:41.042 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 20:19:43.820 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 20:19:43.886 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 20:19:43.912 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 20:19:43.912 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 20:19:43.934 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 20:19:43.934 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 20:19:43.935 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 20:19:44.075 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 20:19:44.075 +08:00 [DBG] Done initialize tentants.
2019-03-09 20:19:44.076 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:19:44.083 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 20:19:44.085 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 20:19:44.088 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 20:19:44.098 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:19:44.100 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:19:44.178 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 20:19:46.852 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 20:19:46.882 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 20:19:46.883 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 20:19:47.839 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 20:19:47.842 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:19:48.137 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 20:19:48.138 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:19:48.138 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:19:48.145 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:19:48.146 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 20:19:48.148 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 20:19:48.149 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 20:19:48.165 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.165 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.165 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.165 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.165 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.165 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.167 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.168 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.169 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.170 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.170 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.170 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.170 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 20:19:48.177 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 20:19:48.182 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 20:19:48.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 20:19:48.533 +08:00 [INF] Executed page /Index in 1672.7789ms
2019-03-09 20:19:48.533 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:19:48.533 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 20:19:48.533 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:19:48.533 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:19:48.533 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:19:48.534 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:19:48.554 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 20:19:48.564 +08:00 [INF] Request finished in 4747.7309ms 302 text/html; charset=utf-8
2019-03-09 20:19:48.846 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 20:19:48.869 +08:00 [INF] Authorization failed.
2019-03-09 20:19:48.873 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 20:19:48.881 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 20:19:48.902 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 20:19:48.902 +08:00 [INF] Executed page /plat/index/index in 55.5381ms
2019-03-09 20:19:48.902 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 20:19:48.907 +08:00 [INF] Request finished in 374.1232ms 302 
2019-03-09 20:19:48.912 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 20:19:48.912 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:19:48.912 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:19:48.912 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:19:48.912 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:19:48.923 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 20:19:49.462 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 20:19:49.466 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 20:19:49.466 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 20:19:49.478 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:19:49.478 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:19:49.479 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 20:19:49.831 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:19:49.834 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 20:19:49.848 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 20:19:50.032 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 20:19:50.291 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:19:50.292 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 20:19:50.345 +08:00 [INF] Executed page /plat/account/login in 883.4448ms
2019-03-09 20:19:50.345 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 20:19:50.345 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:19:50.345 +08:00 [INF] Request finished in 1433.2431ms 200 text/html; charset=utf-8
2019-03-09 20:19:58.644 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 20:19:58.644 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:19:58.644 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:19:58.644 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:19:58.644 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:19:58.645 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:19:58.679 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 20:19:58.681 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:19:58.682 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:19:58.820 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"admin\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 20:19:58.827 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:19:58.827 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 20:19:58.828 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 20:19:58.874 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 20:19:58.970 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 291.0568ms
2019-03-09 20:19:58.970 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:19:59.028 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:19:59.119 +08:00 [INF] Request finished in 475.0005ms 200 application/json;charset=utf-8
2019-03-09 20:19:59.176 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/[object Object]  
2019-03-09 20:19:59.176 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:19:59.176 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:19:59.177 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:19:59.177 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:19:59.187 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:19:59.187 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:19:59.187 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:19:59.187 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:19:59.187 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 20:19:59.576 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 20:19:59.580 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 20:19:59.580 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 20:20:00.077 +08:00 [INF] Executed page /Error in 500.8972ms
2019-03-09 20:20:00.079 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 20:20:00.079 +08:00 [INF] Request finished in 902.8907ms 404 text/html; charset=utf-8
2019-03-09 20:20:00.931 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/scripts/signalr/dist/browser/signalr.js.map  
2019-03-09 20:20:01.004 +08:00 [INF] Sending file. Request path: '/scripts/signalr/dist/browser/signalr.js.map'. Physical path: 'D:\acecms\src\Acesoft.Web.Mvc\wwwroot\scripts\signalr\dist\browser\signalr.js.map'
2019-03-09 20:20:01.009 +08:00 [INF] Request finished in 77.0527ms 200 text/plain
2019-03-09 20:20:20.788 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 20:20:20.788 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:20:20.788 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:20:20.788 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:20:20.788 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:20:20.807 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:20:20.807 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 20:20:20.807 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:20:20.808 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:20:20.860 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"admin\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 20:20:20.860 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:20:20.860 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 20:20:20.861 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 20:20:20.902 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 20:20:20.966 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 158.5315ms
2019-03-09 20:20:20.966 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:20:21.030 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:20:21.060 +08:00 [INF] Request finished in 272.0799ms 200 application/json;charset=utf-8
2019-03-09 20:20:21.101 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/[object Object]  
2019-03-09 20:20:21.107 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:20:21.107 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:20:21.107 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:20:21.107 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:20:21.108 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:20:21.108 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:20:21.108 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:20:21.108 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:20:21.108 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 20:20:21.108 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 20:20:21.109 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 20:20:21.109 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 20:20:21.110 +08:00 [INF] Executed page /Error in 1.3834ms
2019-03-09 20:20:21.110 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 20:20:21.110 +08:00 [INF] Request finished in 9.3041ms 404 text/html; charset=utf-8
2019-03-09 20:37:56.741 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 20:37:56.741 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:37:56.741 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:37:56.741 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:37:56.741 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:37:56.741 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:37:56.741 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 20:37:56.742 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:37:56.742 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:37:56.806 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"admin\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 20:37:56.806 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:37:56.806 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 20:37:56.806 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 20:37:56.872 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 20:37:56.942 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 200.65890000000002ms
2019-03-09 20:37:56.942 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:37:57.005 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:37:57.034 +08:00 [INF] Request finished in 293.2814ms 200 application/json;charset=utf-8
2019-03-09 20:37:57.069 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/[object Object]  
2019-03-09 20:37:57.069 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:37:57.069 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:37:57.069 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:37:57.069 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:37:57.069 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:37:57.069 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:37:57.069 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:37:57.069 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:37:57.069 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 20:37:57.069 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 20:37:57.069 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 20:37:57.070 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 20:37:57.076 +08:00 [INF] Executed page /Error in 6.8637000000000006ms
2019-03-09 20:37:57.076 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 20:37:57.077 +08:00 [INF] Request finished in 8.0503ms 404 text/html; charset=utf-8
2019-03-09 20:38:26.645 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 20:38:26.645 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:38:26.645 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:38:26.645 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:38:26.645 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:38:26.645 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 20:38:26.645 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 20:38:26.645 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 20:38:26.646 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 20:38:26.646 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:38:26.647 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:38:26.647 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 20:38:26.705 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:38:26.705 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 20:38:26.705 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 20:38:26.791 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 20:38:26.794 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:38:26.794 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 20:38:26.908 +08:00 [INF] Executed page /plat/account/login in 263.1588ms
2019-03-09 20:38:26.908 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 20:38:26.908 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:38:26.909 +08:00 [INF] Request finished in 263.873ms 200 text/html; charset=utf-8
2019-03-09 20:38:27.465 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2019-03-09 20:38:27.466 +08:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\acecms\src\Acesoft.Web.Mvc\wwwroot\favicon.ico'
2019-03-09 20:38:27.466 +08:00 [INF] Request finished in 1.1385ms 200 image/x-icon
2019-03-09 20:38:37.363 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 20:38:37.363 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:38:37.363 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:38:37.363 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:38:37.363 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:38:37.363 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:38:37.363 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 20:38:37.363 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:38:37.363 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:38:37.406 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"12345\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 20:38:37.407 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 20:38:37.407 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 20:38:37.407 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 20:38:37.587 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 20:38:37.648 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 285.1666ms
2019-03-09 20:38:37.649 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:38:37.710 +08:00 [DBG] Dispose session with database "default"
2019-03-09 20:38:37.738 +08:00 [INF] Request finished in 375.0846ms 200 application/json;charset=utf-8
2019-03-09 20:38:37.790 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/[object Object]  
2019-03-09 20:38:37.790 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:38:37.790 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:38:37.790 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:38:37.790 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:38:37.790 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:38:37.791 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:38:37.791 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:38:37.791 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:38:37.791 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 20:38:37.793 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 20:38:37.793 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 20:38:37.793 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 20:38:37.795 +08:00 [INF] Executed page /Error in 2.2619000000000002ms
2019-03-09 20:38:37.798 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 20:38:37.798 +08:00 [INF] Request finished in 13.8797ms 404 text/html; charset=utf-8
2019-03-09 20:39:25.147 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 58
2019-03-09 20:39:25.148 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 20:39:25.148 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 20:39:25.148 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 20:39:25.148 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 20:39:25.148 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 20:39:25.148 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 20:39:25.148 +08:00 [DBG] Open new session with database "default"
2019-03-09 20:39:25.148 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:23:13.478 +08:00 [INF] Starting web host
2019-03-09 21:23:15.370 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 21:23:17.565 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 21:23:17.623 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 21:23:17.646 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 21:23:17.646 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 21:23:17.664 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 21:23:17.664 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 21:23:17.664 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 21:23:17.803 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 21:23:17.804 +08:00 [DBG] Done initialize tentants.
2019-03-09 21:23:17.804 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:23:17.812 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 21:23:17.814 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 21:23:17.817 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 21:23:17.826 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:23:17.827 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:23:17.918 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 21:23:20.308 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 21:23:20.341 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:23:20.341 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:23:21.062 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 21:23:21.062 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:23:21.321 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 21:23:21.323 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:23:21.323 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:23:21.330 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:23:21.331 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 21:23:21.333 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 21:23:21.334 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 21:23:21.352 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.352 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.352 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.352 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.352 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.352 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.354 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.355 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.357 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 21:23:21.358 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.358 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.358 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.358 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.358 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.358 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:23:21.358 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.359 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:23:21.365 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 21:23:21.367 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:23:21.716 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 21:23:21.717 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:23:21.717 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:23:21.717 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:23:21.717 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:23:21.718 +08:00 [INF] Executed page /Index in 1403.0430000000001ms
2019-03-09 21:23:21.718 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 21:23:21.719 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:23:21.725 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 21:23:21.737 +08:00 [INF] Request finished in 4176.7113ms 302 text/html; charset=utf-8
2019-03-09 21:23:21.999 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 21:23:22.016 +08:00 [INF] Authorization failed.
2019-03-09 21:23:22.025 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 21:23:22.033 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 21:23:22.052 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 21:23:22.052 +08:00 [INF] Executed page /plat/index/index in 52.777ms
2019-03-09 21:23:22.052 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 21:23:22.062 +08:00 [INF] Request finished in 345.7235ms 302 
2019-03-09 21:23:22.067 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 21:23:22.067 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:23:22.067 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:23:22.067 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:23:22.067 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:23:22.072 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 21:23:22.438 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 21:23:22.442 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:23:22.442 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:23:22.450 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:23:22.450 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:23:22.450 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:23:22.694 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:23:22.695 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 21:23:22.702 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 21:23:22.796 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 21:23:22.966 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:23:22.966 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:23:23.064 +08:00 [INF] Executed page /plat/account/login in 626.10480000000007ms
2019-03-09 21:23:23.064 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 21:23:23.064 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:23:23.064 +08:00 [INF] Request finished in 997.3619ms 200 text/html; charset=utf-8
2019-03-09 21:24:06.611 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:24:06.611 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:24:06.611 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:24:06.611 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:24:06.611 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:24:06.613 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:24:06.668 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:24:06.671 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:24:06.671 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:24:06.812 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"12345\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 21:24:06.820 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:24:06.820 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 21:24:06.820 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 21:24:06.872 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 21:24:06.967 +08:00 [ERR] 用户已被停用，禁止登录
Acesoft.AceException: 用户已被停用，禁止登录
   at Acesoft.Check.Require(Boolean assertion, String msg, String negativeMsg) in D:\acecms\src\Acesoft.Util\Check.cs:line 13
   at Acesoft.Rbac.Services.UserService.Login(String userName, String password, Int32 tryTimes, Int32 lockMinutes) in D:\acecms\src\Acesoft.Rbac\Services\UserService.cs:line 152
   at Acesoft.Rbac.AccessControl.Login(String userName, String password, Boolean persistent) in D:\acecms\src\Acesoft.Rbac\AccessControl.cs:line 59
   at Acesoft.Web.Authorize.AuthController.Login(JObject data) in D:\acecms\src\Acesoft.Web\Authorize\AuthController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-03-09 21:24:40.897 +08:00 [INF] Executing ObjectResult, writing value of type 'Acesoft.Web.Controllers.ApiResult'.
2019-03-09 21:24:40.962 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 34294.3346ms
2019-03-09 21:24:40.962 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:24:40.962 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:24:40.962 +08:00 [INF] Request finished in 34351.1688ms 500 application/json; charset=utf-8
2019-03-09 21:25:16.731 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:25:16.732 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:25:16.732 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:25:16.733 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:25:16.733 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:25:16.745 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:25:16.746 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:25:16.746 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:25:16.746 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:25:16.809 +08:00 [INF] Executing action method Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) with arguments (["{\r\n  \"username\": \"admin\",\r\n  \"password\": \"12345\",\r\n  \"persistent\": \"true\"\r\n}"]) - Validation state: "Valid"
2019-03-09 21:25:16.810 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:25:16.810 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 21:25:16.810 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 21:25:16.865 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=admin
2019-03-09 21:25:16.933 +08:00 [ERR] 用户已被停用，禁止登录
Acesoft.AceException: 用户已被停用，禁止登录
   at Acesoft.Check.Require(Boolean assertion, String msg, String negativeMsg) in D:\acecms\src\Acesoft.Util\Check.cs:line 13
   at Acesoft.Rbac.Services.UserService.Login(String userName, String password, Int32 tryTimes, Int32 lockMinutes) in D:\acecms\src\Acesoft.Rbac\Services\UserService.cs:line 152
   at Acesoft.Rbac.AccessControl.Login(String userName, String password, Boolean persistent) in D:\acecms\src\Acesoft.Rbac\AccessControl.cs:line 59
   at Acesoft.Web.Authorize.AuthController.Login(JObject data) in D:\acecms\src\Acesoft.Web\Authorize\AuthController.cs:line 63
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextExceptionFilterAsync()
2019-03-09 21:25:20.209 +08:00 [INF] Executing ObjectResult, writing value of type 'Acesoft.Web.Controllers.ApiResult'.
2019-03-09 21:25:20.210 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 3463.8354000000004ms
2019-03-09 21:25:20.210 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:25:20.210 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:25:20.210 +08:00 [INF] Request finished in 3478.7552ms 500 application/json; charset=utf-8
2019-03-09 21:27:44.510 +08:00 [INF] Starting web host
2019-03-09 21:27:46.357 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 21:27:48.614 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 21:27:48.675 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 21:27:48.699 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 21:27:48.699 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 21:27:48.717 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 21:27:48.717 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 21:27:48.718 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 21:27:48.861 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 21:27:48.861 +08:00 [DBG] Done initialize tentants.
2019-03-09 21:27:48.861 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:27:48.870 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 21:27:48.873 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 21:27:48.876 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 21:27:48.881 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:27:48.882 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:27:48.946 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 21:27:51.304 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 21:27:51.333 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:27:51.333 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:27:52.062 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 21:27:52.063 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:27:52.332 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 21:27:52.333 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:27:52.333 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:27:52.343 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:27:52.343 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 21:27:52.345 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 21:27:52.346 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 21:27:52.364 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.365 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.365 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.365 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.365 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.365 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.366 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.367 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.368 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.369 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.369 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.369 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.369 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.369 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.371 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.372 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.373 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.373 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.373 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.373 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.373 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.373 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:27:52.379 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 21:27:52.381 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:27:52.718 +08:00 [INF] Executed page /Index in 1409.2039ms
2019-03-09 21:27:52.718 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 21:27:52.719 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:27:52.723 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 21:27:52.723 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:27:52.723 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:27:52.723 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:27:52.724 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:27:52.730 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 21:27:52.760 +08:00 [INF] Request finished in 4150.2808ms 302 text/html; charset=utf-8
2019-03-09 21:27:53.058 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 21:27:53.077 +08:00 [INF] Authorization failed.
2019-03-09 21:27:53.081 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 21:27:53.090 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 21:27:53.110 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 21:27:53.110 +08:00 [INF] Executed page /plat/index/index in 52.6216ms
2019-03-09 21:27:53.110 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 21:27:53.117 +08:00 [INF] Request finished in 394.3606ms 302 
2019-03-09 21:27:53.125 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 21:27:53.125 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:27:53.125 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:27:53.125 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:27:53.125 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:27:53.129 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 21:27:53.499 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 21:27:53.501 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:27:53.501 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:27:53.511 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:27:53.511 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:27:53.511 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:27:53.759 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:27:53.760 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 21:27:53.769 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 21:27:53.878 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 21:27:54.023 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:27:54.023 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:27:54.075 +08:00 [INF] Executed page /plat/account/login in 576.3837ms
2019-03-09 21:27:54.075 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 21:27:54.076 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:27:54.076 +08:00 [INF] Request finished in 951.0335ms 200 text/html; charset=utf-8
2019-03-09 21:28:04.917 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:28:04.917 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:28:04.918 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:28:04.918 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:28:04.918 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:28:04.919 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:04.961 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:28:04.974 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 12.4068ms
2019-03-09 21:28:04.976 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:05.060 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Bearer'. The registered schemes are: Cookie. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Bearer",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-09 21:28:05.168 +08:00 [INF] Request finished in 249.7041ms 500 text/html; charset=utf-8
2019-03-09 21:28:05.190 +08:00 [INF] Connection id "0HLL4IC2K02LI", Request id "0HLL4IC2K02LI:00000003": the application completed without reading the entire request body.
2019-03-09 21:28:17.468 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:28:17.468 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:28:17.468 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:28:17.468 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:28:17.469 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:28:17.482 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:17.483 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:28:17.485 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 1.8486ms
2019-03-09 21:28:17.486 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:17.559 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Bearer'. The registered schemes are: Cookie. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Bearer",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-09 21:28:17.573 +08:00 [INF] Request finished in 105.1043ms 500 text/html; charset=utf-8
2019-03-09 21:28:17.574 +08:00 [INF] Connection id "0HLL4IC2K02LI", Request id "0HLL4IC2K02LI:00000004": the application completed without reading the entire request body.
2019-03-09 21:28:19.827 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:28:19.827 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:28:19.827 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:28:19.827 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:28:19.828 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:28:19.828 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:19.828 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:28:19.829 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 1.0526ms
2019-03-09 21:28:19.829 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:19.899 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Bearer'. The registered schemes are: Cookie. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Bearer",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-09 21:28:19.913 +08:00 [INF] Request finished in 85.9592ms 500 text/html; charset=utf-8
2019-03-09 21:28:19.914 +08:00 [INF] Connection id "0HLL4IC2K02LI", Request id "0HLL4IC2K02LI:00000005": the application completed without reading the entire request body.
2019-03-09 21:28:27.233 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:28:27.233 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:28:27.233 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:28:27.233 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:28:27.233 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:28:27.233 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:27.234 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:28:27.237 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 3.8709000000000002ms
2019-03-09 21:28:27.238 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:28:27.329 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Bearer'. The registered schemes are: Cookie. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Bearer",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Acesoft.Web.Multitenancy.TenantRouterMiddleware.Invoke(HttpContext context) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantRouterMiddleware.cs:line 40
   at Acesoft.Web.Multitenancy.TenantContainerMiddleware.Invoke(HttpContext context, ITenantResolver tenantResolver) in D:\acecms\src\Acesoft.Web\Multitenancy\Middleware\TenantContainerMiddleware.cs:line 50
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-03-09 21:28:27.357 +08:00 [INF] Request finished in 123.5955ms 500 text/html; charset=utf-8
2019-03-09 21:28:27.357 +08:00 [INF] Connection id "0HLL4IC2K02LI", Request id "0HLL4IC2K02LI:00000006": the application completed without reading the entire request body.
2019-03-09 21:44:57.614 +08:00 [INF] Starting web host
2019-03-09 21:44:59.459 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 21:45:01.841 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 21:45:01.895 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 21:45:01.928 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 21:45:01.929 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 21:45:01.960 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 21:45:01.960 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 21:45:01.960 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 21:45:02.096 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 21:45:02.096 +08:00 [DBG] Done initialize tentants.
2019-03-09 21:45:02.096 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:45:02.102 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 21:45:02.106 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 21:45:02.111 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 21:45:02.121 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:45:02.122 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:45:02.196 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 21:45:04.883 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 21:45:04.906 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:45:04.907 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:45:05.659 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 21:45:05.660 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:45:05.937 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 21:45:05.939 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:45:05.939 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:45:05.951 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:45:05.952 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 21:45:05.955 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 21:45:05.956 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 21:45:05.979 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.979 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.979 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.979 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.979 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.979 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.981 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.984 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.985 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.985 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.985 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.985 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.985 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.985 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.986 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.986 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.986 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.986 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.986 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.986 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.986 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.987 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.988 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.989 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:45:05.994 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 21:45:05.997 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:45:06.344 +08:00 [INF] Executed page /Index in 1451.6611ms
2019-03-09 21:45:06.344 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 21:45:06.344 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 21:45:06.344 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:45:06.344 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:45:06.345 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:45:06.345 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:45:06.345 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:45:06.352 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 21:45:06.378 +08:00 [INF] Request finished in 4541.0459ms 302 text/html; charset=utf-8
2019-03-09 21:45:06.706 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 21:45:06.727 +08:00 [INF] Authorization failed.
2019-03-09 21:45:06.736 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 21:45:06.743 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 21:45:06.772 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 21:45:06.772 +08:00 [INF] Executed page /plat/index/index in 65.8297ms
2019-03-09 21:45:06.772 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 21:45:06.779 +08:00 [INF] Request finished in 434.8677ms 302 
2019-03-09 21:45:06.786 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 21:45:06.786 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:45:06.786 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:45:06.786 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:45:06.786 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:45:06.796 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 21:45:07.223 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 21:45:07.225 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:45:07.225 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:45:07.236 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:45:07.236 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:45:07.236 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:45:07.494 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:45:07.495 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 21:45:07.505 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 21:45:07.632 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 21:45:07.788 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:45:07.788 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:45:07.835 +08:00 [INF] Executed page /plat/account/login in 611.8977ms
2019-03-09 21:45:07.835 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 21:45:07.835 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:45:07.835 +08:00 [INF] Request finished in 1049.1448ms 200 text/html; charset=utf-8
2019-03-09 21:45:28.526 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:45:32.211 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:45:32.211 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:45:32.211 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:45:32.211 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:45:32.211 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:45:32.255 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:45:32.268 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 13.097900000000001ms
2019-03-09 21:45:32.268 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:46:45.371 +08:00 [INF] Request finished in 76845.7271ms 500 application/json;charset=utf-8
2019-03-09 21:46:45.388 +08:00 [INF] Connection id "0HLL4ILMI0K3S", Request id "0HLL4ILMI0K3S:00000003": the application completed without reading the entire request body.
2019-03-09 21:46:53.019 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:46:54.884 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:46:54.893 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:46:54.893 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:46:54.893 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:46:54.899 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:46:54.900 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:46:54.902 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 1.5579ms
2019-03-09 21:46:54.902 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:46:55.583 +08:00 [INF] Request finished in 2564.5274ms 500 application/json;charset=utf-8
2019-03-09 21:46:55.584 +08:00 [INF] Connection id "0HLL4ILMI0K3S", Request id "0HLL4ILMI0K3S:00000004": the application completed without reading the entire request body.
2019-03-09 21:48:19.379 +08:00 [INF] Starting web host
2019-03-09 21:48:21.234 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 21:48:23.454 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 21:50:28.693 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 21:50:28.714 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 21:50:28.714 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 21:50:28.738 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 21:50:28.739 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 21:50:28.739 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 21:50:28.855 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 21:50:28.855 +08:00 [DBG] Done initialize tentants.
2019-03-09 21:50:28.856 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:50:28.860 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 21:50:28.871 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 21:50:28.875 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 21:50:28.885 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:50:28.887 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:50:28.959 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 21:50:31.586 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 21:50:31.613 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:50:31.615 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:50:32.441 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 21:50:32.442 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:50:32.706 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 21:50:32.707 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:50:32.707 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:50:32.715 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:50:32.716 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 21:50:32.719 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 21:50:32.721 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 21:50:32.741 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.741 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.741 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.741 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.742 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.742 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.743 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.744 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.745 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 21:50:32.749 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.750 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.751 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.752 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 21:50:32.757 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 21:50:32.760 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:50:33.103 +08:00 [INF] Executed page /Index in 1505.5276000000001ms
2019-03-09 21:50:33.104 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 21:50:33.105 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:50:33.115 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 21:50:38.085 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:50:38.085 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:50:38.085 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:50:38.085 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:50:38.095 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 21:50:38.100 +08:00 [INF] Request finished in 134650.3835ms 302 text/html; charset=utf-8
2019-03-09 21:50:38.393 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 21:50:38.408 +08:00 [INF] Authorization failed.
2019-03-09 21:50:38.413 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 21:50:38.421 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 21:50:38.444 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 21:50:38.444 +08:00 [INF] Executed page /plat/index/index in 51.1787ms
2019-03-09 21:50:38.444 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 21:50:38.452 +08:00 [INF] Request finished in 5337.0643ms 302 
2019-03-09 21:50:38.457 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 21:50:39.308 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:50:39.308 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:50:39.308 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:50:39.308 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:50:39.315 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 21:50:39.672 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 21:50:39.675 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 21:50:39.675 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 21:50:39.687 +08:00 [DBG] Open new session with database "default"
2019-03-09 21:50:39.687 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:50:39.687 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:50:39.941 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:50:39.942 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 21:50:39.953 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 21:50:40.083 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 21:50:40.237 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 21:50:40.237 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 21:50:40.284 +08:00 [INF] Executed page /plat/account/login in 612.361ms
2019-03-09 21:50:40.285 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 21:50:40.285 +08:00 [DBG] Dispose session with database "default"
2019-03-09 21:50:40.285 +08:00 [INF] Request finished in 1827.9336ms 200 text/html; charset=utf-8
2019-03-09 21:50:51.725 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:50:55.235 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:50:55.235 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:50:55.239 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:50:55.239 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:50:55.240 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:50:55.283 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:50:55.295 +08:00 [INF] Authorization failed.
2019-03-09 21:50:55.295 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 21:50:55.296 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 21:50:55.297 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 21:50:55.297 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 14.1423ms
2019-03-09 21:50:55.297 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:50:56.385 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:50:56.385 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:50:56.385 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:50:56.385 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:50:56.385 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 21:50:56.677 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 21:50:56.690 +08:00 [INF] Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.4aiWOs48p6M" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.4aiWOs48p6M" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2019-03-09 21:50:56.690 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2019-03-09 21:50:56.694 +08:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2019-03-09 21:50:56.694 +08:00 [INF] Executed page /Error in 16.9962ms
2019-03-09 21:50:56.694 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 21:50:56.694 +08:00 [INF] Request finished in 4968.7241ms 400 
2019-03-09 21:50:56.722 +08:00 [INF] Connection id "0HLL4INIL52S9", Request id "0HLL4INIL52S9:00000003": the application completed without reading the entire request body.
2019-03-09 21:51:12.932 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:51:14.780 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:51:14.780 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:51:14.780 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:51:14.781 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:51:14.788 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:51:14.788 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:51:14.788 +08:00 [INF] Authorization failed.
2019-03-09 21:51:14.788 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 21:51:14.789 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 21:51:14.789 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 21:51:14.789 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.55090000000000006ms
2019-03-09 21:51:14.789 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:51:15.912 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:51:15.912 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:51:15.912 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:51:15.912 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:51:15.913 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 21:51:15.913 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 21:51:15.913 +08:00 [INF] Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.4aiWOs48p6M" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.4aiWOs48p6M" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2019-03-09 21:51:15.913 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2019-03-09 21:51:15.913 +08:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2019-03-09 21:51:15.913 +08:00 [INF] Executed page /Error in 0.75640000000000007ms
2019-03-09 21:51:15.914 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 21:51:15.914 +08:00 [INF] Request finished in 2981.621ms 400 
2019-03-09 21:51:15.914 +08:00 [INF] Connection id "0HLL4INIL52S9", Request id "0HLL4INIL52S9:00000004": the application completed without reading the entire request body.
2019-03-09 21:51:56.317 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 21:52:02.611 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:52:02.611 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:52:02.611 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:52:02.611 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:52:02.611 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:52:02.611 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 21:52:02.611 +08:00 [INF] Authorization failed.
2019-03-09 21:52:02.611 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 21:52:02.611 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 21:52:02.611 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 21:52:02.611 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.3662ms
2019-03-09 21:52:02.611 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 21:52:03.888 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 21:52:03.888 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 21:52:03.888 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 21:52:03.888 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 21:52:03.888 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 21:52:03.888 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 21:52:03.889 +08:00 [INF] Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.4aiWOs48p6M" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.4aiWOs48p6M" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2019-03-09 21:52:03.889 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2019-03-09 21:52:03.889 +08:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2019-03-09 21:52:03.889 +08:00 [INF] Executed page /Error in 0.6976ms
2019-03-09 21:52:03.889 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 21:52:03.889 +08:00 [INF] Request finished in 7572.3404ms 400 
2019-03-09 21:52:03.890 +08:00 [INF] Connection id "0HLL4INIL52S9", Request id "0HLL4INIL52S9:00000005": the application completed without reading the entire request body.
2019-03-09 22:03:21.623 +08:00 [INF] Starting web host
2019-03-09 22:03:23.866 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 22:03:27.143 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 22:03:41.395 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 22:03:41.413 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 22:03:41.413 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 22:03:41.437 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 22:03:41.437 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 22:03:41.437 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 22:03:41.568 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 22:03:41.568 +08:00 [DBG] Done initialize tentants.
2019-03-09 22:03:41.568 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:03:41.575 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 22:03:41.578 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 22:03:41.581 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 22:03:41.591 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:03:41.592 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:03:41.666 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 22:03:45.548 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 22:03:45.574 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:03:45.575 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:03:46.569 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 22:03:46.571 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:03:46.870 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 22:03:46.872 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:03:46.872 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:03:46.882 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:03:46.882 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 22:03:46.887 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 22:03:46.889 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 22:03:46.915 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.916 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.916 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.916 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.916 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.916 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.920 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.921 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.922 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 22:03:46.924 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.924 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.924 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.924 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.924 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.924 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.925 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.926 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:03:46.932 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 22:03:46.937 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:03:47.307 +08:00 [INF] Executed page /Index in 1753.5577ms
2019-03-09 22:03:47.307 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 22:03:47.309 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:03:47.309 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 22:03:49.265 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:03:49.266 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:03:49.266 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:03:49.266 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:03:49.275 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 22:03:49.290 +08:00 [INF] Request finished in 22150.1107ms 302 text/html; charset=utf-8
2019-03-09 22:03:49.664 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 22:03:49.682 +08:00 [INF] Authorization failed.
2019-03-09 22:03:49.690 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:03:49.699 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 22:03:49.717 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:03:49.717 +08:00 [INF] Executed page /plat/index/index in 52.6983ms
2019-03-09 22:03:49.717 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 22:03:49.722 +08:00 [INF] Request finished in 2412.697ms 302 
2019-03-09 22:03:49.727 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 22:03:53.191 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:03:53.192 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:03:53.192 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:03:53.192 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:03:53.216 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 22:03:53.694 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 22:03:53.696 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:03:53.697 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:03:53.706 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:03:53.706 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:03:53.706 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:03:53.963 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:03:53.964 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 22:03:53.974 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 22:03:54.077 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 22:03:54.316 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:03:54.316 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:03:54.383 +08:00 [INF] Executed page /plat/account/login in 688.5094ms
2019-03-09 22:03:54.383 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 22:03:54.383 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:03:54.383 +08:00 [INF] Request finished in 4655.3754ms 200 text/html; charset=utf-8
2019-03-09 22:04:00.348 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 246
2019-03-09 22:04:02.449 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:04:02.449 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:04:02.450 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:04:02.450 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:04:02.450 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:04:02.501 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:04:02.502 +08:00 [INF] Authorization failed.
2019-03-09 22:04:02.502 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:04:02.504 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:04:02.504 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:04:02.504 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 3.4055ms
2019-03-09 22:04:02.504 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:04:03.621 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:04:03.621 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:04:03.621 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:04:03.621 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:04:03.621 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:04:03.970 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:04:03.976 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:04:03.976 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:04:05.366 +08:00 [INF] Executed page /Error in 1396.5320000000002ms
2019-03-09 22:04:05.366 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:04:05.368 +08:00 [INF] Request finished in 5019.9254ms 401 text/html; charset=utf-8
2019-03-09 22:04:05.390 +08:00 [INF] Connection id "0HLL4IVVPUNB5", Request id "0HLL4IVVPUNB5:00000003": the application completed without reading the entire request body.
2019-03-09 22:04:13.593 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 246
2019-03-09 22:04:15.701 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:04:15.701 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:04:15.701 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:04:15.701 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:04:15.715 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:04:15.715 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:04:15.715 +08:00 [INF] Authorization failed.
2019-03-09 22:04:15.715 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:04:15.715 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:04:15.715 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:04:15.715 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.42110000000000003ms
2019-03-09 22:04:15.716 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:04:16.312 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:04:16.312 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:04:16.312 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:04:16.312 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:04:16.312 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:04:16.313 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:04:16.313 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:04:16.313 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:04:16.314 +08:00 [INF] Executed page /Error in 1.7339ms
2019-03-09 22:04:16.314 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:04:16.314 +08:00 [INF] Request finished in 2721.5508ms 401 text/html; charset=utf-8
2019-03-09 22:04:16.315 +08:00 [INF] Connection id "0HLL4IVVPUNB5", Request id "0HLL4IVVPUNB5:00000004": the application completed without reading the entire request body.
2019-03-09 22:05:48.502 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 22:05:53.464 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:05:53.464 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:05:53.464 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:05:53.464 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:05:53.464 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 22:05:53.835 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 22:05:53.836 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:05:53.836 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:05:53.842 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:05:53.842 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:05:53.842 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:05:53.894 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:05:53.894 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 22:05:53.894 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 22:05:53.949 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 22:05:53.952 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:05:53.952 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:05:53.995 +08:00 [INF] Executed page /plat/account/login in 160.5976ms
2019-03-09 22:05:53.995 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 22:05:53.995 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:05:53.995 +08:00 [INF] Request finished in 5492.9906ms 200 text/html; charset=utf-8
2019-03-09 22:05:54.533 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2019-03-09 22:05:54.558 +08:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\acecms\src\Acesoft.Web.Mvc\wwwroot\favicon.ico'
2019-03-09 22:05:54.558 +08:00 [INF] Request finished in 24.6063ms 200 image/x-icon
2019-03-09 22:06:00.330 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 22:06:00.339 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:06:00.339 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:06:00.339 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:06:00.339 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:06:00.344 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:06:00.352 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:06:00.353 +08:00 [INF] Authorization failed.
2019-03-09 22:06:00.353 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:06:00.353 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:06:00.353 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:06:00.353 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.4038ms
2019-03-09 22:06:00.353 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:06:00.353 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:06:00.353 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:06:00.353 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:06:00.353 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:06:00.353 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:06:00.359 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:06:00.381 +08:00 [INF] Antiforgery token validation failed. The required antiforgery header value "RequestVerificationToken" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2019-03-09 22:06:00.381 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2019-03-09 22:06:00.387 +08:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2019-03-09 22:06:00.387 +08:00 [INF] Executed page /Error in 28.1138ms
2019-03-09 22:06:00.387 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:06:00.387 +08:00 [INF] Request finished in 57.7255ms 400 
2019-03-09 22:06:00.387 +08:00 [INF] Connection id "0HLL4IVVPUNB5", Request id "0HLL4IVVPUNB5:00000007": the application completed without reading the entire request body.
2019-03-09 22:07:19.603 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 22:07:19.604 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:07:19.604 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:07:19.604 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:07:19.604 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:07:19.616 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:07:19.616 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:07:19.616 +08:00 [INF] Authorization failed.
2019-03-09 22:07:19.616 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:07:19.616 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:07:19.616 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:07:19.616 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.4318ms
2019-03-09 22:07:19.616 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:07:19.617 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:07:19.617 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:07:19.617 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:07:19.617 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:07:19.617 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:07:19.617 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:07:19.617 +08:00 [INF] Antiforgery token validation failed. The required antiforgery header value "RequestVerificationToken" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2019-03-09 22:07:19.617 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2019-03-09 22:07:19.617 +08:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2019-03-09 22:07:19.617 +08:00 [INF] Executed page /Error in 0.65450000000000008ms
2019-03-09 22:07:19.617 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:07:19.618 +08:00 [INF] Request finished in 14.388ms 400 
2019-03-09 22:07:19.618 +08:00 [INF] Connection id "0HLL4IVVPUNB5", Request id "0HLL4IVVPUNB5:00000008": the application completed without reading the entire request body.
2019-03-09 22:31:04.130 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 59
2019-03-09 22:31:04.131 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:31:04.131 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:31:04.131 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:31:04.131 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:31:04.131 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:31:04.131 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:31:04.131 +08:00 [INF] Authorization failed.
2019-03-09 22:31:04.131 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:31:04.131 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:31:04.131 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:31:04.131 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.3668ms
2019-03-09 22:31:04.131 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:31:04.132 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:31:04.132 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:31:04.132 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:31:04.132 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:31:04.132 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:31:04.147 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:31:04.155 +08:00 [INF] Antiforgery token validation failed. The required antiforgery header value "RequestVerificationToken" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery header value "RequestVerificationToken" is not present.
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2019-03-09 22:31:04.155 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.AutoValidateAntiforgeryTokenAuthorizationFilter'.
2019-03-09 22:31:04.155 +08:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2019-03-09 22:31:04.155 +08:00 [INF] Executed page /Error in 8.1122ms
2019-03-09 22:31:04.155 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:31:04.155 +08:00 [INF] Request finished in 24.5765ms 400 
2019-03-09 22:31:04.158 +08:00 [INF] Connection id "0HLL4IVVPUNB6", Request id "0HLL4IVVPUNB6:00000001": the application completed without reading the entire request body.
2019-03-09 22:33:41.959 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 22:33:41.959 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:33:41.959 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:33:41.959 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:33:41.959 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:33:41.960 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 22:33:42.451 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 22:33:42.453 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:33:42.453 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:33:42.463 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:33:42.463 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:33:42.463 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:33:42.563 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:33:42.563 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 22:33:42.563 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 22:33:42.625 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 22:33:42.631 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:33:42.631 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:33:42.682 +08:00 [INF] Executed page /plat/account/login in 230.5719ms
2019-03-09 22:33:42.682 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 22:33:42.682 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:33:42.682 +08:00 [INF] Request finished in 723.0094ms 200 text/html; charset=utf-8
2019-03-09 22:33:43.437 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2019-03-09 22:33:43.471 +08:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\acecms\src\Acesoft.Web.Mvc\wwwroot\favicon.ico'
2019-03-09 22:33:43.484 +08:00 [INF] Request finished in 46.2142ms 200 image/x-icon
2019-03-09 22:33:46.845 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 242
2019-03-09 22:33:46.845 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:33:46.845 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:33:46.845 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:33:46.845 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:33:46.852 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:33:46.866 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:33:46.866 +08:00 [INF] Authorization failed.
2019-03-09 22:33:46.866 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:33:46.866 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:33:46.866 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:33:46.866 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.3562ms
2019-03-09 22:33:46.866 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:33:46.867 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:33:46.867 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:33:46.867 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:33:46.867 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:33:46.867 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:33:46.884 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:33:46.884 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:33:46.884 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:33:46.888 +08:00 [INF] Executed page /Error in 4.0834ms
2019-03-09 22:33:46.888 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:33:46.888 +08:00 [INF] Request finished in 43.848ms 401 text/html; charset=utf-8
2019-03-09 22:33:46.893 +08:00 [INF] Connection id "0HLL4IVVPUNB6", Request id "0HLL4IVVPUNB6:00000004": the application completed without reading the entire request body.
2019-03-09 22:34:10.561 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 242
2019-03-09 22:34:10.561 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:34:10.561 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:34:10.561 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:34:10.561 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:34:10.571 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:34:10.572 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:34:10.572 +08:00 [INF] Authorization failed.
2019-03-09 22:34:10.572 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:34:10.572 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:34:10.572 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:34:10.572 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.2786ms
2019-03-09 22:34:10.572 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:34:10.572 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:34:10.572 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:34:10.572 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:34:10.572 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:34:10.572 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:34:10.572 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:34:10.572 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:34:10.572 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:34:10.574 +08:00 [INF] Executed page /Error in 1.6635ms
2019-03-09 22:34:10.574 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:34:10.574 +08:00 [INF] Request finished in 13.0066ms 401 text/html; charset=utf-8
2019-03-09 22:34:10.575 +08:00 [INF] Connection id "0HLL4IVVPUNB6", Request id "0HLL4IVVPUNB6:00000005": the application completed without reading the entire request body.
2019-03-09 22:34:12.534 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 242
2019-03-09 22:34:12.534 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:34:12.534 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:34:12.534 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:34:12.534 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:34:12.534 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:34:12.534 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:34:12.535 +08:00 [INF] Authorization failed.
2019-03-09 22:34:12.535 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:34:12.535 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:34:12.535 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:34:12.535 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.4561ms
2019-03-09 22:34:12.535 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:34:12.535 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:34:12.535 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:34:12.535 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:34:12.535 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:34:12.535 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:34:12.535 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:34:12.537 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:34:12.537 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:34:12.539 +08:00 [INF] Executed page /Error in 3.9237ms
2019-03-09 22:34:12.540 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:34:12.540 +08:00 [INF] Request finished in 5.9992ms 401 text/html; charset=utf-8
2019-03-09 22:34:12.540 +08:00 [INF] Connection id "0HLL4IVVPUNB6", Request id "0HLL4IVVPUNB6:00000006": the application completed without reading the entire request body.
2019-03-09 22:34:15.402 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 242
2019-03-09 22:34:15.402 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:34:15.402 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:34:15.402 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:34:15.402 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:34:15.402 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:34:15.403 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:34:15.403 +08:00 [INF] Authorization failed.
2019-03-09 22:34:15.403 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:34:15.403 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:34:15.403 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:34:15.403 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 0.4071ms
2019-03-09 22:34:15.403 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:34:15.403 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:34:15.403 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:34:15.403 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:34:15.403 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:34:15.403 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:34:15.403 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:34:15.404 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:34:15.404 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:34:15.405 +08:00 [INF] Executed page /Error in 1.594ms
2019-03-09 22:34:15.405 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:34:15.405 +08:00 [INF] Request finished in 3.2157ms 401 text/html; charset=utf-8
2019-03-09 22:34:15.405 +08:00 [INF] Connection id "0HLL4IVVPUNB6", Request id "0HLL4IVVPUNB6:00000007": the application completed without reading the entire request body.
2019-03-09 22:38:16.131 +08:00 [INF] Starting web host
2019-03-09 22:38:18.826 +08:00 [INF] User profile is available. Using 'C:\Users\lsanm\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-03-09 22:38:22.490 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-03-09 22:38:22.601 +08:00 [DBG] Start loading modules from D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\Modules.
2019-03-09 22:38:22.632 +08:00 [DBG] Found module hr with type: Acesoft.Web.HR.Startup.
2019-03-09 22:38:22.632 +08:00 [DBG] Found mvc application part: Acesoft.Web.HR.
2019-03-09 22:38:22.650 +08:00 [DBG] Found module shop with type: Acesoft.Web.Shop.Startup.
2019-03-09 22:38:22.650 +08:00 [DBG] Found mvc application part: Acesoft.Web.Shop.
2019-03-09 22:38:22.651 +08:00 [DBG] Starting initialize TenantsHost from config.
2019-03-09 22:38:22.793 +08:00 [DBG] Load Tenant with name "default" successful.
2019-03-09 22:38:22.793 +08:00 [DBG] Done initialize tentants.
2019-03-09 22:38:22.793 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:38:22.801 +08:00 [DBG] Tenant not present in cache with key "localhost:5000". Attempting to resolve.
2019-03-09 22:38:22.803 +08:00 [DBG] Resolved Tenant "default" with request: localhost:5000.
2019-03-09 22:38:22.807 +08:00 [DBG] Tenant "default" resolved. Caching with keys "localhost:5000".
2019-03-09 22:38:22.814 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:38:22.816 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:38:22.912 +08:00 [INF] Executing endpoint 'Page: /Index'
2019-03-09 22:38:26.409 +08:00 [INF] Route matched with {page = "/Index", action = "", controller = ""}. Executing page /Index
2019-03-09 22:38:26.437 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:38:26.438 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:38:28.172 +08:00 [DBG] Store has initlialized with database "default"
2019-03-09 22:38:28.178 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:38:28.587 +08:00 [DBG] Query 3 users from "default" store
2019-03-09 22:38:28.589 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:38:28.589 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:38:28.599 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:38:28.599 +08:00 [DBG] Initalize ISqlMapper for name: default
2019-03-09 22:38:28.603 +08:00 [DBG] SqlMapper initalize the folder: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps
2019-03-09 22:38:28.605 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\rbac.config
2019-03-09 22:38:28.633 +08:00 [DBG] Get config data [cache.c_scale] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.634 +08:00 [DBG] Get config data [cache.c_user] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.634 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.635 +08:00 [DBG] Get config data [cache.c_app] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.635 +08:00 [DBG] Get config data [cache.c_role] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.635 +08:00 [DBG] Get config data [cache.c_obj] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.642 +08:00 [DBG] Get config data [sqlmap.get_client_by_name] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.645 +08:00 [DBG] Get config data [sqlmap.query_user_by_id] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.645 +08:00 [DBG] Get config data [sqlmap.query_user_by_username] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.get_user_by_authid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.get_user_by_loginname] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.get_user_by_mobile] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.get_user_by_mail] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.get_pas_by_roles] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.del_ua_by_user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.del_ua_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.del_pa_by_role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.del_pa_by_obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.get_obj_by_url] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.get_objs] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.646 +08:00 [DBG] Get config data [sqlmap.exec_user_auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.647 +08:00 [DBG] Get config data [sqlmap.app] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.647 +08:00 [DBG] Get config data [sqlmap.app_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.647 +08:00 [DBG] Get config data [sqlmap.app_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.647 +08:00 [DBG] Get config data [sqlmap.scale] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.647 +08:00 [DBG] Get config data [sqlmap.scale_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.user] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.user_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.auth] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.auth_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.role] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.role_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.roleuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.role_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.obj] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.obj_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.objuser_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.648 +08:00 [DBG] Get config data [sqlmap.obj_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.649 +08:00 [DBG] Read XML config file from: D:\acecms\src\Acesoft.Web.Mvc\bin\Debug\netcoreapp2.2\SqlMaps\sys.config
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [cache.c_table] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [cache.c_field] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [cache.c_dict] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [cache.c_dictitem] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [cache.c_client] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [cache.c_version] to: Acesoft.Data.SqlMapper.Cache
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.get_app_client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.get_sys_cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.cfg] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.cfg_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.cfg_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.cfgitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.cfgitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.651 +08:00 [DBG] Get config data [sqlmap.cfgroot_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.client] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.client_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.client_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.version] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.version_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.schema] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.table] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.table_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.field] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.field_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.dict] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.dict_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.dict_tree] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.dictitem] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.dictitem_list] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.652 +08:00 [DBG] Get config data [sqlmap.dictitem_grid] to: Acesoft.Data.SqlMapper.SqlMap
2019-03-09 22:38:28.664 +08:00 [DBG] CacheManager load FlushSqlMaps!
2019-03-09 22:38:28.680 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:38:29.152 +08:00 [INF] Executed page /Index in 2734.7031ms
2019-03-09 22:38:29.152 +08:00 [INF] Executed endpoint 'Page: /Index'
2019-03-09 22:38:29.153 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:38:29.171 +08:00 [INF] Request finished in 6685.1801ms 302 text/html; charset=utf-8
2019-03-09 22:38:29.176 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/index  
2019-03-09 22:38:29.177 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:38:29.177 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:38:29.177 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:38:29.177 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:38:29.184 +08:00 [INF] Executing endpoint 'Page: /plat/index/index'
2019-03-09 22:38:29.599 +08:00 [INF] Route matched with {page = "/plat/index/index", action = "", controller = ""}. Executing page /plat/index/index
2019-03-09 22:38:29.620 +08:00 [INF] Authorization failed.
2019-03-09 22:38:29.632 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:38:29.647 +08:00 [INF] Executing ChallengeResult with authentication schemes ([]).
2019-03-09 22:38:29.669 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:38:29.669 +08:00 [INF] Executed page /plat/index/index in 69.9016ms
2019-03-09 22:38:29.669 +08:00 [INF] Executed endpoint 'Page: /plat/index/index'
2019-03-09 22:38:29.673 +08:00 [INF] Request finished in 499.643ms 302 
2019-03-09 22:38:29.678 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/plat/account/login?ReturnUrl=%2Fplat%2Findex  
2019-03-09 22:38:29.678 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:38:29.678 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:38:29.679 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:38:29.679 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:38:29.686 +08:00 [INF] Executing endpoint 'Page: /plat/account/login'
2019-03-09 22:38:30.191 +08:00 [INF] Route matched with {page = "/plat/account/login", action = "", controller = ""}. Executing page /plat/account/login
2019-03-09 22:38:30.195 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:38:30.195 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:38:30.205 +08:00 [DBG] Open new session with database "default"
2019-03-09 22:38:30.205 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:38:30.205 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:38:30.547 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:38:30.549 +08:00 [INF] SqlMapper do request: rbac.query_user_by_username, type: Acesoft.Rbac.Entity.Rbac_User
2019-03-09 22:38:30.566 +08:00 [DBG] CacheManager GetCache SqlId: rbac.query_user_by_username:, Success: False !
2019-03-09 22:38:30.818 +08:00 [DBG] CacheManager SetCache SqlId: rbac.query_user_by_username:userName=guest
2019-03-09 22:38:31.135 +08:00 [DBG] Get ISqlMapper for name: default
2019-03-09 22:38:31.135 +08:00 [INF] SqlMapper do request: sys.get_sys_cfg, type: System.Collections.Generic.IEnumerable`1[Acesoft.Platform.Models.ConfigItem]
2019-03-09 22:38:31.189 +08:00 [INF] Executed page /plat/account/login in 997.2120000000001ms
2019-03-09 22:38:31.189 +08:00 [INF] Executed endpoint 'Page: /plat/account/login'
2019-03-09 22:38:31.189 +08:00 [DBG] Dispose session with database "default"
2019-03-09 22:38:31.189 +08:00 [INF] Request finished in 1510.5326ms 200 text/html; charset=utf-8
2019-03-09 22:38:41.489 +08:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/auth/login?ReturnUrl=%2Fplat%2Findex&app=plat application/json 242
2019-03-09 22:38:41.489 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:38:41.489 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:38:41.489 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:38:41.489 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:38:41.500 +08:00 [INF] Executing endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:38:41.560 +08:00 [INF] Route matched with {action = "Login", controller = "Auth", page = ""}. Executing action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)
2019-03-09 22:38:41.561 +08:00 [INF] Authorization failed.
2019-03-09 22:38:41.561 +08:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.
2019-03-09 22:38:41.562 +08:00 [INF] Executing ChallengeResult with authentication schemes (["Cookie"]).
2019-03-09 22:38:41.563 +08:00 [INF] AuthenticationScheme: Cookie was challenged.
2019-03-09 22:38:41.563 +08:00 [INF] Executed action Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web) in 3.7022000000000004ms
2019-03-09 22:38:41.563 +08:00 [INF] Executed endpoint 'Acesoft.Web.Authorize.AuthController.Login (Acesoft.Web)'
2019-03-09 22:38:41.566 +08:00 [DBG] Resolving Tenant using "Acesoft.Web.Multitenancy.DefaultTenantResolver".
2019-03-09 22:38:41.567 +08:00 [DBG] Tenant "default" retrieved from cache with key "localhost:5000".
2019-03-09 22:38:41.567 +08:00 [DBG] Start getting TenantContext from TenantsHost.
2019-03-09 22:38:41.567 +08:00 [DBG] Getting TenantContext successful and set to HttpContext.
2019-03-09 22:38:41.567 +08:00 [INF] Executing endpoint 'Page: /Error'
2019-03-09 22:38:41.892 +08:00 [INF] Route matched with {page = "/Error", action = "", controller = ""}. Executing page /Error
2019-03-09 22:38:41.899 +08:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2019-03-09 22:38:41.899 +08:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2019-03-09 22:38:42.425 +08:00 [INF] Executed page /Error in 533.52100000000007ms
2019-03-09 22:38:42.425 +08:00 [INF] Executed endpoint 'Page: /Error'
2019-03-09 22:38:42.425 +08:00 [INF] Request finished in 936.4046ms 401 text/html; charset=utf-8
2019-03-09 22:38:42.446 +08:00 [INF] Connection id "0HLL4JJGBKQ89", Request id "0HLL4JJGBKQ89:00000004": the application completed without reading the entire request body.
